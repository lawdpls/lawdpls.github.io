<!DOCTYPE html>
<html>
<head>
<meta charset=utf-8/>
<title>Serial code generator</title>
</head>
<style type="text/css">
	.input {
		text-align: center;
		padding-top: 5%;
	}

</style>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<div>
	<h1 style="text-align: center;">Random USPS Tracking Number Generator</h1>
</div>
<div id="display" style="text-align: center; padding-top: 100px; font-size: 4em"></div>
<div class="input">
	<p>Select the format you want to generate</p>
	<p>(Assume 9-digit zipcode)</p>
	<form style="padding-bottom: 10px">
	  <input type="radio" name="cai" id="N" value="N"> N (9405 5102 0088 3<strong style="color: red">557 5472 4</strong>4) (Unpredictable | Range:7 | 0 and 8)<br>
	  <input type="radio" name="cai" id="C92" value="C"> C (9274 8999 8906 41<strong style="color: red">20 1331 7</strong>2) (Range:2 Bound:[0,2])<br>
	  <input type="radio" name="cai" id="C93" value="C"> C (9374 8896 840<strong style="color: red">9 0279 3721 8</strong>4) (Range:7 Bound:[2,7])<br>
	</form>
<!-- 	<p>Pick a Mailer ID(not used right now)</p>
	<select id="mailer">
	  <option value="000000">000000</option>
	</select><br> -->
	<p>Pick a range for the serial number</p>
	<select id="limit">
	  <option value="0">0</option>
	  <option value="1">1</option>
	  <option value="2">2</option>
	  <option value="3">3</option>
	  <option value="4">4</option>
	  <option value="5">5</option>
	  <option value="6">6</option>
	  <option value="7">7</option>
	  <option value="8">8</option>
	  <option value="9">9</option>
	  <option value="10">10</option>
	</select><br>
	<button onclick="show()" style="margin-top: 10px">Generate</button>
</div>
<script type="text/javascript">

var cai = "",
stc = "",
si = "",
mid = "",
serial = "",
modCheck = "",
finalResult = "";

function show() {
	var range = document.getElementById('limit').value
	if (document.getElementById('N').checked) {
  		// cai = document.getElementById("N").value
  		cai = "94";
  		stc = "055";
  		si = "10";
  		mid = "200883";
  		var beforeMod = "";
  		var sumEven = 0;
  		var sumOdd = 0;
  		var serialNum = "";
  		// for (var i = 0; i < 8; i++) {
  		// 	mid = mid + Math.floor(Math.random()*10);
  		// }
  		serial = [5,5,7,5,4,7,2,4]
  		if (range > serial.length) {
  			alert("Invalid range")
  			return null;
  		}
  		for (var i = serial.length - Number(range); i < serial.length; i++) {
  			serial[i] = Math.floor(Math.random()*10);
  		}
  		for (var i = 0; i < serial.length; i++) {
  			serialNum += serial[i]
  		}
  		beforeMod = cai + stc + si + mid + serialNum;
  		for (var i = 0; i < beforeMod.length; i++) {
  			if (i % 2 == 0){
  				sumEven += Number(beforeMod[i]);
  			} else {
  				sumOdd += Number(beforeMod[i]);
  			}
  		}
  		sum = 3*sumEven + sumOdd;
  		modCheck = 10 - sum % 10;
  		if (modCheck == 10) {
  			modCheck = "0";
  		} else {
  			modCheck = modCheck.toString();
  		}
  		finalResult = beforeMod + modCheck;
	} else if (document.getElementById('C93').checked){
	 	cai = "93";
  		stc = "748";
  		mid = "896840";
  		var beforeMod = "";
  		var sumEven = 0;
  		var sumOdd = 0;
  		var serialNum = "";
  		// for (var i = 0; i < 8; i++) {
  		// 	mid = mid + Math.floor(Math.random()*10);
  		// }
  		serial = [9,0,2,7,9,3,7,2,1,8]
  		if (range > serial.length) {
  			alert("Invalid range");
  			return null;
  		}
  		for (var i = serial.length - Number(range); i < serial.length; i++) {
  			serial[i] = Math.floor(Math.random()*10);
  		}
  		for (var i = 0; i < serial.length; i++) {
  			serialNum += serial[i]
  		}
  		beforeMod = cai + stc + mid + serialNum;
  		for (var i = 0; i < beforeMod.length; i++) {
  			if (i % 2 == 0){
  				sumEven += Number(beforeMod[i]);
  			} else {
  				sumOdd += Number(beforeMod[i]);
  			}
  		}
  		sum = 3*sumEven + sumOdd;
  		modCheck = 10 - sum % 10;
  		if (modCheck == 10) {
  			modCheck = "0";
  		} else {
  			modCheck = modCheck.toString();
  		}
  		finalResult = beforeMod + modCheck;
	} else if (document.getElementById('C92').checked){
	 	cai = "92";
  		stc = "748";
  		mid = "999890641";
  		var beforeMod = "";
  		var sumEven = 0;
  		var sumOdd = 0;
  		var serialNum = "";
  		// for (var i = 0; i < 8; i++) {
  		// 	mid = mid + Math.floor(Math.random()*10);
  		// }
  		serial = [2,0,1,3,3,1,7]
  		if (range > serial.length) {
  			alert("Invalid range");
  			return null;
  		}
  		for (var i = serial.length - Number(range); i < serial.length; i++) {
  			serial[i] = Math.floor(Math.random()*10);
  		}
  		for (var i = 0; i < serial.length; i++) {
  			serialNum += serial[i]
  		}
  		beforeMod = cai + stc + mid + serialNum;
  		for (var i = 0; i < beforeMod.length; i++) {
  			if (i % 2 == 0){
  				sumEven += Number(beforeMod[i]);
  			} else {
  				sumOdd += Number(beforeMod[i]);
  			}
  		}
  		sum = 3*sumEven + sumOdd;
  		modCheck = 10 - sum % 10;
  		if (modCheck == 10) {
  			modCheck = "0";
  		} else {
  			modCheck = modCheck.toString();
  		}
  		finalResult = beforeMod + modCheck;
	} else {
		alert("Please select a tracking number format")
	}
	document.getElementById('display').innerHTML = "<p>" + finalResult + "</P>"
	// console.log(range)
}

</script>
</body>
</html>